{"version":3,"sources":["store/actions/order.js","hoc/withErrorHandler/withErrorHandler.js","components/Order/Order.js","containers/MyOrders/MyOrders.js","axios-orders.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","components/UI/Spinner/Spinner.js","components/UI/Spinner/Spinner.module.css"],"names":["purchaseBurger","orderData","token","dispatch","type","PURCHASE_BURGER_START","params","axios","post","then","response","id","PURCHASE_BURGER_SUCCESS","orderId","purchaseBurgerSuccess","data","name","catch","error","PURCHASE_BURGER_FAIL","purchaseBurgerFail","purchaseInit","PURCHASE_INIT","fetchOrders","userId","fetchOrdersStart","get","fetchedOrders","key","push","fetchOrdersSuccess","fetchOrdersFail","FETCH_ORDERS_START","orders","FETCH_ORDERS_SUCCESS","FETCH_ORDERS_FAIL","withErrorHandler","WrappedComponent","props","closeModal","setState","showModal","state","this","reqInterceptor","interceptors","request","use","req","resInterceptor","res","eject","isOpen","onRequestClose","message","Component","Order","ingredients","Object","entries","value","ingredient","amount","transformedIngredients","map","price","toFixed","connect","order","auth","loading","onFetchOrder","useEffect","Spinner","firebaseInstance","create","baseURL","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","i","length","descriptor","enumerable","configurable","writable","defineProperty","_createClass","protoProps","staticProps","prototype","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","e","_typeof","obj","Symbol","iterator","constructor","_possibleConstructorReturn","self","ReferenceError","_createSuper","Derived","result","Super","NewTarget","arguments","apply","_setPrototypeOf","p","_inherits","subClass","superClass","className","styles","module","exports"],"mappings":"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","file":"static/js/6.c0428e4c.chunk.js","sourcesContent":["import {PURCHASE_BURGER_SUCCESS, PURCHASE_BURGER_FAIL, PURCHASE_BURGER_START, PURCHASE_INIT, FETCH_ORDERS_START, FETCH_ORDERS_FAIL, FETCH_ORDERS_SUCCESS} from './actionTypes';\nimport axios from '../../axios-orders';\n\nexport const purchaseBurgerSuccess = (id, orderData) => {\n    return {type: PURCHASE_BURGER_SUCCESS, orderId: id, orderData}\n}\n\nexport const purchaseBurgerFail = (error) => {\n    return {type: PURCHASE_BURGER_FAIL, error}\n}\n\nexport const purchaseBurgerStart = () => {\n    return {type: PURCHASE_BURGER_START}\n}\n\nexport const purchaseBurger = (orderData, token) => {\n    return dispatch => {\n        dispatch(purchaseBurgerStart());\n\n        const params = `?auth=${token}`;\n        return axios\n            .post('/orders.json' + params, orderData)\n            .then((response) => {\n                dispatch(purchaseBurgerSuccess(response.data.name, orderData));\n            })\n            .catch((error) => {\n                dispatch(purchaseBurgerFail(error));\n            });\n    }\n}\n\nexport const purchaseInit = () => {\n    return {type: PURCHASE_INIT}\n}\n\nexport const fetchOrders = (token, userId) => {\n    return dispatch => {\n        dispatch(fetchOrdersStart());\n\n        const params = `?auth=${token}&orderBy=\"userId\"&equalTo=\"${userId}\"`;\n        return axios\n            .get('/orders.json' + params)\n            .then((response) => {\n                const fetchedOrders = [];\n                // Concat key to orders data\n                for (let key in response.data) {\n                    fetchedOrders.push({\n                        ...response.data[key],\n                        id: key\n                    });\n                }\n\n                dispatch(fetchOrdersSuccess(fetchedOrders));\n            })\n            .catch(error => dispatch(fetchOrdersFail(error)));\n    }\n}\n\nexport const fetchOrdersStart = () => {\n    return {\n        type: FETCH_ORDERS_START\n    }\n}\n\nexport const fetchOrdersSuccess = (orders) => {\n    return {\n        type: FETCH_ORDERS_SUCCESS,\n        orders\n    }\n}\n\nexport const fetchOrdersFail = (error) => {\n    return {\n        type: FETCH_ORDERS_FAIL,\n        error\n    }\n}","import React, { Component } from 'react';\n\nimport Modal from 'react-modal';\nimport Aux from '../Aux';\n\nconst withErrorHandler = ( WrappedComponent, axios ) => {\n    return class extends Component {\n        constructor(props) {\n            super(props);\n            this.state = {\n                error: null,\n                showModal: false\n            }\n        }\n\n        componentWillMount () {\n            this.reqInterceptor = axios.interceptors.request.use( req => {\n                this.setState( { error: null, showModal: false } );\n                return req;\n            } );\n            this.resInterceptor = axios.interceptors.response.use( res => res, error => {\n                this.setState( { error: error, showModal: true } );\n            } );\n        }\n\n        componentWillUnmount () {\n            axios.interceptors.request.eject( this.reqInterceptor );\n            axios.interceptors.response.eject( this.resInterceptor );\n        }\n\n        closeModal = () => {\n            this.setState( { showModal: false } );\n        }\n\n        render () {\n            return (\n                <Aux>\n                    <Modal\n                        isOpen={this.state.showModal}\n                        onRequestClose={this.closeModal}>\n                        {this.state.error ? this.state.error.message : null}\n                    </Modal>\n                    <WrappedComponent {...this.props} />\n                </Aux>\n            );\n        }\n    }\n}\n\nexport default withErrorHandler;\n\n// import React, { useEffect, useState } from 'react';\n// import Modal from 'react-modal';\n\n// import Aux from '../Aux';\n\n// const withErrorHandler = (WrappedComponent, axios) => {\n//     return (props) => {\n//         const [showModal, setShowModal] = useState(false);\n//         const [errorMessage, setErrorMessage] = useState(null);\n\n//         const closeModal = () => {\n//             setShowModal(false);\n//         }\n\n//         useEffect(() => {\n//             const reqInterceptor = axios.interceptors.request.use(req => {\n//                 setErrorMessage(null);\n//                 setShowModal(false);\n//                 return req;\n//             });\n\n//             const resInterceptor = axios.interceptors.response.use(res => res, error => {\n//                 console.log('error: ' + error);\n//                 setErrorMessage(error.message);\n//                 setShowModal(true);\n//             });\n\n//             return () => {\n//                 axios.interceptors.request.eject(reqInterceptor);\n//                 axios.interceptors.response.eject(resInterceptor); \n//             }\n//         }, [])\n        \n//         return (\n//             <Aux>\n//                 <Modal \n//                     isOpen={showModal} \n//                     onRequestClose={closeModal}>\n//                         {errorMessage}\n//                 </Modal>\n//                 <WrappedComponent {...props}/>\n//             </Aux>\n//         )\n//     }\n// }\n\n// export default withErrorHandler;\n","import React from 'react';\n\nconst Order = (props) => {\n    const ingredients = [];\n    for (const [key,\n        value]of Object.entries(props.ingredients)) {\n        ingredients.push({ingredient: key, amount: value});\n    }\n\n    const transformedIngredients = ingredients.map((data) => {\n        return (\n            <li key={data.ingredient}>{data.ingredient} ({data.amount})</li>\n        );\n    });\n\n    return (\n        <div>\n            <p>Ingredients:</p>\n            <ul>\n                {transformedIngredients}\n            </ul>\n            <p>Price: <strong>USD {(props.price / 100).toFixed(2)}</strong></p>\n        </div>\n    )\n};\n\nexport default Order;","import React, {useEffect} from 'react';\nimport { connect } from 'react-redux';\n\nimport {fetchOrders} from '../../store/actions/order';\n\nimport axios from '../../axios-orders';\nimport withErrorHandler from '../../hoc/withErrorHandler/withErrorHandler';\n\nimport Order from '../../components/Order/Order';\nimport Spinner from '../../components/UI/Spinner/Spinner';\n\nconst MyOrders = ({orders, onFetchOrder, loading, token, userId}) => {\n\n    useEffect(() => {\n        onFetchOrder(token, userId);\n    }, [onFetchOrder]); // eslint-disable-line react-hooks/exhaustive-deps \n\n    let order = <Spinner/>;\n    if (!loading) {\n        order = orders.map((order) => <Order key={order.id} ingredients={order.ingredients} price={order.price}/>);\n    }\n \n    return (\n        <div>\n            {order}\n        </div>\n    )\n};\n\nconst mapStateToProps = ({ order, auth }) => ({\n    orders: order.orders,\n    loading: order.loading,\n    token: auth.token,\n    userId: auth.userId\n});\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onFetchOrder: (token, userId) => dispatch(fetchOrders(token, userId))\n    }\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withErrorHandler(MyOrders, axios));","import axios from 'axios';\n\nconst firebaseInstance = axios.create({\n    baseURL: \"https://react-burger-builder-f5a6f.firebaseio.com/\"\n});\n\nexport default firebaseInstance;","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"./getPrototypeOf\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"./possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  return function () {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (isNativeReflectConstruct()) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import React from 'react';\nimport styles from './Spinner.module.css';\n\nconst Spinner = () => (\n    <div className={styles['loader']}>\n        Loading...\n    </div>\n);\n\nexport default Spinner;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spinner_loader__fTuX5\",\"load7\":\"Spinner_load7__3lEXz\"};"],"sourceRoot":""}